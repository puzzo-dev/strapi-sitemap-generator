# Production Environment Variables Template
# Copy this file to .env and fill in your production values

# ==========================================
# DOCKER & REGISTRY (Docker Compose specific)
# ==========================================
GITHUB_USERNAME=puzzo-dev
IMAGE_NAME=ghcr.io/puzzo-dev/email-marketing-saas
IMAGE_TAG=latest

# ==========================================
# DOMAIN & NETWORK (Traefik specific)
# ==========================================
DOMAIN=mailcast.ink
CERT_RESOLVER=le

# Real IP Header Configuration - FOR TRAEFIK BEHIND CLOUDFLARE
# Since Traefik is behind Cloudflare, use CF-Connecting-IP
# Cloudflare passes the real visitor IP in this header
REAL_IP_HEADER=CF-Connecting-IP

# ==========================================
# FRONTEND BUILD ARGS (Docker build specific)
# ==========================================
VITE_API_URL=https://backend.mailcast.ink/api
VITE_APP_NAME=Email Marketing SaaS
VITE_BACKEND_URL=https://backend.mailcast.ink/api

# ==========================================
# FLASK CONFIGURATION
# ==========================================
FLASK_APP=run.py
FLASK_ENV=production
FLASK_DEBUG=False

# ==========================================
# SECURITY
# ==========================================
SECRET_KEY=gambinobigdonpuzzo
JWT_SECRET_KEY=gambinobigdonpuzzo
JWT_COOKIE_SECURE=True
JWT_COOKIE_CSRF_PROTECT=True

# ==========================================
# DATABASE (Production - MySQL/MariaDB)
# ==========================================
DB_USER=root
DB_PASSWORD=Koolup@23
DB_HOST=mariadb-database
DB_PORT=3306
DB_NAME=emailsaas

# ==========================================
# REDIS (Production)
# ==========================================
REDIS_URL=redis://crypto-indices-redis:6379/0
# Legacy format (kept for compatibility):
REDIS_HOST=crypto-indices-redis
REDIS_PORT=6379
# REDIS_PASSWORD=your-redis-password-if-needed

# ==========================================
# INFRASTRUCTURE & HOST SETTINGS
# ==========================================
FRONTEND_URL=https://mailcast.ink
CORS_ORIGINS=https://mailcast.ink,http://mailcast.ink,https://backend.mailcast.ink,http://backend.mailcast.ink

# ==========================================
# ADMIN USER (for initial database seeding)
# ==========================================
ADMIN_EMAIL=admin@demo.com
ADMIN_PASSWORD=YourSecureAdminPassword123!

# ==========================================
# FILE UPLOADS
# ==========================================
UPLOAD_FOLDER=/app/uploads

# ============================================================================
# APPLICATION SETTINGS (Configure in Admin Dashboard via system_config DB)
# ============================================================================
# The following are managed in the database via SystemConfig model:
# - SMTP Settings (smtp_server, smtp_port, smtp_username, smtp_password)
# - BTCPay Settings (btcpay_server_url, btcpay_store_id, btcpay_api_key)
# - Campaign Limits (max_emails_per_hour, default_batch_size, etc.)
# - Credit System (default_credits_per_dollar, min_credit_purchase, etc.)
# - App Branding (app_name, support_email, system_from_email, etc.)
# - Feature Flags (maintenance_mode, registration_enabled, etc.)
#
# Configure these in: Admin Dashboard > System Settings
# Or use API: POST /api/settings/system
#
# MIGRATION NOTE: On first deployment, these values from .env will seed the DB:
# - MAIL_SERVER, MAIL_PORT, MAIL_USERNAME, MAIL_PASSWORD (from old .env)
# - BTCPAY_SERVER_URL, BTCPAY_API_KEY, BTCPAY_STORE_ID (from old .env)
# After seeding, remove these from .env and manage via admin dashboard only.
# ============================================================================

# TEMPORARY: Values below will seed system_config on first run, then remove them
MAIL_SERVER=host1.iscotenants.com
MAIL_PORT=2525
MAIL_USE_TLS=True
MAIL_USERNAME=iscotenantscom2
MAIL_PASSWORD=142b94ae3c0948b8070d1fbd69451d0g

BTCPAY_SERVER_URL=https://payments.cryptofnpro.com
BTCPAY_API_KEY=5065d4168658940a3f0e60d9c1e9b276d68e93c2
BTCPAY_STORE_ID=42Q3hYUF7xsqyjrax7rMuD8PV5uW4MYXq45LCSympYoZ
BTCPAY_WEBHOOK_SECRET=9Wwks5w22JgGM11bePzFtjFMK6A
